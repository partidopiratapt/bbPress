<?php

require_once('admin.php');

if ( 'post' == strtolower( $_SERVER['REQUEST_METHOD'] ) && $_POST['action'] == 'update') {
	
	bb_check_admin_referer( 'options-time-update' );
	
	foreach ( (array) $_POST as $option => $value ) {
		if ( !in_array( $option, array('_wpnonce', '_wp_http_referer', 'action', 'submit') ) ) {
			$option = trim( $option );
			$value = is_array( $value ) ? $value : trim( $value );
			$value = stripslashes_deep( $value );
			if ($option == 'uri' && !empty($value)) {
				$value = rtrim( $value, " \t\n\r\0\x0B/" ) . '/';
			}
			if ( $value ) {
				bb_update_option( $option, $value );
			} else {
				bb_delete_option( $option );
			}
		}
	}
	
	$goback = add_query_arg('updated', 'true', wp_get_referer());
	bb_safe_redirect($goback);
	exit;
}

if ( !empty($_GET['updated']) ) {
	bb_admin_notice( __('Settings saved.') );
}

$time_options = array(
	'gmt_offset' => array(
		'title' => __( 'Times should differ<br />from UTC by' ),
		'class' => 'short',
		'after' => __( 'hours' ),
		'note' => __( 'Example: -7 for Pacific Daylight Time.' ),
	),
	'datetime_format' => array(
		'title' => __( 'Date and time format' ),
		'value' => bb_get_datetime_formatstring_i18n(),
		'note' => sprintf( __( 'Output: <strong>%s</strong>' ), bb_datetime_format_i18n( bb_current_time() ) ),
	),
	'date_format' => array(
		'title' => __( 'Date format' ),
		'value' => bb_get_datetime_formatstring_i18n( 'date' ),
		'note' => array(
			sprintf( __( 'Output: <strong>%s</strong>' ), bb_datetime_format_i18n( bb_current_time(), 'date' ) ),
			__( 'Click "Update settings" to update sample output.' ),
			__( '<a href="http://codex.wordpress.org/Formatting_Date_and_Time">Documentation on date formatting</a>.' ),
		),
	),
);

$bb_admin_body_class = ' bb-admin-settings';

bb_get_admin_header();

?>

<div class="wrap">

<h2><?php _e('Date and Time Settings'); ?></h2>
<?php do_action( 'bb_admin_notices' ); ?>

		<div id="bbTimeZoneSelector">
			<img src="images/world.jpg" width="720" height="360" alt="" />
<?php

$cities = array(




	array(
		24.466665,
		54.416668,
		16,
		'Asia/Dubai',
		'AE',
		'Abu Dhabi',
		'U.A.E.'
	),
	array(
		5.583333,
		-0.100000,
		11,
		'Africa/Accra',
		'GH',
		'Accra',
		'Ghana'
	),
	array(
		51.866666,
		-176.650000,
		30,
		'America/Adak',
		'US',
		'Adak',
		'U.S.A.'
	),
	array(
		9.050000,
		38.700001,
		14,
		'Africa/Addis_Ababa',
		'ET',
		'Addis Ababa',
		'Ethiopia'
	),
	array(
		-34.866669,
		138.500000,
		26,
		'Australia/Adelaide',
		'AU',
		'Adelaide',
		'Australia'
	),
	array(
		36.833332,
		3.000000,
		12,
		'Africa/Algiers',
		'DZ',
		'Algiers',
		'Algeria'
	),
	array(
		31.949999,
		35.933334,
		13,
		'Asia/Amman',
		'JO',
		'Amman',
		'Jordan'
	),
	array(
		52.349995,
		4.899994,
		12,
		'Europe/Amsterdam',
		'NL',
		'Amsterdam',
		'Netherlands'
	),
	array(
		64.750000,
		177.483333,
		29,
		'Asia/Anadyr',
		'RU',
		'Anadyr',
		'Russia'
	),
	array(
		-18.916666,
		47.516670,
		14,
		'Indian/Antananarivo',
		'MG',
		'Antananarivo',
		'Madagascar'
	),
	array(
		61.216667,
		-149.883331,
		2,
		'America/Anchorage',
		'US',
		'Anchorage',
		'U.S.A.'
	),
	array(
		39.916668,
		32.833332,
		13,
		'Europe/Istanbul',
		'TR',
		'Ankara',
		'Turkey'
	),
	array(
		37.9667,
		58.4000,
		18,
		'Asia/Ashgabat',
		'TM',
		'Ashgabat',
		'Turkmenistan'
	),
	array(
		15.333333,
		38.883333,
		14,
		'Africa/Asmera',
		'ER',
		'Asmera',
		'Eritrea'
	),
	array(
		-25.266666,
		-57.666668,
		7,
		'America/Asuncion',
		'PY',
		'Asuncion',
		'Paraguay'
	),
	array(
		38.000000,
		23.733334,
		13,
		'Europe/Athens',
		'GR',
		'Athens',
		'Greece'
	),
	array(
		33.750000,
		-84.383331,
		6,
		'US/Eastern',
		'US',
		'Atlanta',
		'U.S.A.'
	),
	array(
		30.300001,
		-97.699997,
		5,
		'US/Central',
		'US',
		'Austin',
		'U.S.A.'
	),
	array(
		33.333332,
		44.433331,
		14,
		'Asia/Baghdad',
		'IQ',
		'Baghdad',
		'Iraq'
	),
	array(
		40.3667,
		49.8833,
		15,
		'Asia/Baku',
		'AZ',
		'Baku',
		'Azerbaijan'
	),
	array(
		12.566667,
		-7.916667,
		11,
		'Africa/Bamako',
		'ML',
		'Bamako',
		'Mali'
	),
	array(
		13.733334,
		100.500000,
		23,
		'Asia/Bangkok',
		'TH',
		'Bangkok',
		'Thailand'
	),
	array(
		4.383333,
		18.583334,
		12,
		'Africa/Bangui',
		'CF',
		'Bangui',
		'Central African Republic'
	),
	array(
		13.1000,
		-59.6167,
		7,
		'America/Barbados',
		'BB',
		'Bridgetown',
		'Barbados'
	),
	array(
		39.916668,
		116.416672,
		24,
		'Asia/Shanghai',
		'CN',
		'Beijing',
		'China'
	),
	array(
		33.866665,
		35.500000,
		13,
		'Asia/Beirut',
		'LB',
		'Beirut',
		'Lebanon'
	),
	array(
		44.833332,
		20.500000,
		12,
		'Europe/Belgrade',
		'YU',
		'Belgrade',
		'Serbia and Montenegro'
	),
	array(
		52.516666,
		13.400000,
		12,
		'Europe/Berlin',
		'DE',
		'Berlin',
		'Germany'
	),
	array(
		37.210489,
		-80.414774,
		6,
		'US/Eastern',
		'US',
		'Blacksburg',
		'U.S.A.'
	),
	array(
		4.600000,
		-74.083328,
		6,
		'America/Bogota',
		'CO',
		'Bogota',
		'Colombia'
	),
	array(
		42.333336,
		-71.083336,
		6,
		'US/Eastern',
		'US',
		'Boston',
		'U.S.A.'
	),
	array(
		48.1667,
		17.1667,
		12,
		'Europe/Bratislava',
		'SK',
		'Bratislava',
		'Slovakia'
	),
	array(
		-15.783333,
		-47.916668,
		8,
		'Brazil/East',
		'BR',
		'Brasalia',
		'Brazil'
	),
	array(
		-27.483333,
		153.133333,
		27,
		'Australia/Brisbane',
		'AU',
		'Brisbane',
		'Australia'
	),
	array(
		50.833332,
		4.350000,
		12,
		'Europe/Brussels',
		'BE',
		'Brussels',
		'Belgium'
	),
	array(
		44.450001,
		26.166666,
		13,
		'Europe/Bucharest',
		'RO',
		'Bucharest',
		'Romania'
	),
	array(
		47.500000,
		19.083334,
		12,
		'Europe/Budapest',
		'HU',
		'Budapest',
		'Hungary'
	),
	array(
		-34.616653,
		-58.399994,
		8,
		'America/Buenos_Aires',
		'AR',
		'Buenos Aires',
		'Argentina'
	),
	array(
		30.049999,
		31.249998,
		13,
		'Africa/Cairo',
		'EG',
		'Cairo',
		'Egypt'
	),
	array(
		51.050003,
		-114.049995,
		4,
		'Canada/Mountain',
		'CA',
		'Calgary',
		'Canada'
	),
	array(
		-35.250000,
		149.133331,
		27,
		'Australia/Canberra',
		'AU',
		'Canberra',
		'Australia'
	),
	array(
		23.083332,
		113.166672,
		24,
		'Asia/Shanghai',
		'CN',
		'Canton',
		'China'
	),
	array(
		-33.933334,
		18.366667,
		13,
		'Africa/Johannesburg',
		'ZA',
		'Cape Town',
		'South Africa'
	),
	array(
		10.500000,
		-66.933334,
		7,
		'America/Caracas',
		'VE',
		'Caracas',
		'Venezuela'
	),
	array(
		51.500000,
		-3.216667,
		11,
		'Europe/London',
		'GB',
		'Cardiff',
		'Wales'
	),
	array(
		4.916667,
		-52.300003,
		8,
		'America/Cayenne',
		'GF',
		'Cayenne',
		'French Guiana'
	),
	array(
		13.133333,
		80.316666,
		19,
		'Asia/Calcutta',
		'IN',
		'Chennai',
		'India'
	),
	array(
		41.833332,
		-87.750000,
		5,
		'America/Chicago',
		'US',
		'Chicago',
		'U.S.A.'
	),
	array(
		6.933333,
		79.966667,
		19,
		'Asia/Colombo',
		'LK',
		'Colombo',
		'Sri Lanka'
	),
	array(
		40.00000,
		-82.883333,
		6,
		'US/Eastern',
		'US',
		'Columbus',
		'U.S.A.'
	),
	array(
		9.483334,
		-13.816667,
		11,
		'Africa/Conakry',
		'GN',
		'Conakry',
		'Guinea'
	),
	array(
		55.716663,
		12.566667,
		12,
		'Europe/Copenhagen',
		'DK',
		'Copenhagen',
		'Denmark'
	),
	array(
		51.966667,
		-8.466666,
		11,
		'Europe/Dublin',
		'IE',
		'Cork',
		'Ireland'
	),
	array(
		23.699999,
		90.366669,
		21,
		'Asia/Dhaka',
		'BD',
		'Dhaka',
		'Bangladesh'
	),
	array(
		14.566667,
		-17.483334,
		11,
		'Africa/Dakar',
		'SN',
		'Dakar',
		'Senegal'
	),
	array(
		32.783333,
		-96.816666,
		5,
		'US/Central',
		'US',
		'Dallas',
		'U.S.A.'
	),
	array(
		33.500000,
		36.250000,
		14,
		'Asia/Damascus',
		'SY',
		'Damascus',
		'Syria'
	),
	array(
		-6.833333,
		39.200001,
		14,
		'Africa/Dar_es_Salaam',
		'TZ',
		'Dar es Salaam',
		'Tanzania'
	),
	array(
		-12.466666,
		130.850000,
		26,
		'Australia/Darwin',
		'AU',
		'Darwin',
		'Australia'
	),
	array(
		39.733334,
		-104.983337,
		4,
		'America/Denver',
		'US',
		'Denver',
		'U.S.A.'
	),
	array(
		42.383335,
		-83.083336,
		6,
		'America/Detroit',
		'US',
		'Detroit',
		'U.S.A.'
	),
	array(
		11.500001,
		43.083332,
		14,
		'Africa/Djibouti',
		'DJ',
		'Djibouti',
		'Djibouti'
	),
	array(
		25.283333,
		51.533337,
		14,
		'Asia/Qatar',
		'QA',
		'Doha',
		'Qatar'
	),
	array(
		4.000000,
		9.750000,
		12,
		'Africa/Douala',
		'CM',
		'Douala',
		'Cameroon'
	),
	array(
		53.333332,
		-6.250000,
		11,
		'Europe/Dublin',
		'IE',
		'Dublin',
		'Ireland'
	),
	array(
		55.950001,
		-3.216667,
		11,
		'Europe/London',
		'GB',
		'Edinburgh',
		'Scotland'
	),
	array(
		8.500000,
		-13.283333,
		11,
		'Africa/Freetown',
		'SL',
		'Freetown',
		'Sierra Leone'
	),
	array(
		46.166664,
		6.150000,
		12,
		'Europe/Zurich',
		'CH',
		'Geneva',
		'Switzerland'
	),
	array(
		6.766667,
		-58.166668,
		7,
		'America/Guyana',
		'GY',
		'Georgetown',
		'Guyana'
	),
	array(
		-54.266666,
		-36.533333,
		9,
		'Atlantic/South_Georgia',
		'GS',
		'Grytviken',
		'South Georgia'
	),
	array(
		13.450000,
		144.750000,
		27,
		'Pacific/Guam',
		'GU',
		'Guam',
		'U.S.A.'
	),
	array(
		14.666666,
		-90.366669,
		5,
		'America/Guatemala',
		'GT',
		'Guatemala',
		'Guatemala'
	),
	array(
		44.650000,
		-63.566666,
		7,
		'Canada/Atlantic',
		'CA',
		'Halifax',
		'Canada'
	),
	array(
		53.5833,
		10.0000,
		12,
		'Europe/Berlin',
		'DE',
		'Hamburg',
		'Germany'
	),
	array(
		21.083334,
		105.916672,
		23,
		'Asia/Saigon',
		'VN',
		'Hanoi',
		'Vietnam'
	),
	array(
		-17.716667,
		31.033333,
		13,
		'Africa/Harare',
		'ZW',
		'Harare',
		'Zimbabwe'
	),
	array(
		22.133333,
		-82.366669,
		6,
		'America/Havana',
		'CU',
		'Havana',
		'Cuba'
	),
	array(
		60.166668,
		24.966667,
		13,
		'Europe/Helsinki',
		'FI',
		'Helsinki',
		'Finland'
	),
	array(
		-42.883333,
		147.316666,
		27,
		'Australia/Hobart',
		'AU',
		'Hobart',
		'Australia'
	),
	array(
		22.250000,
		114.166672,
		24,
		'Asia/Hong_Kong',
		'HK',
		'Hong Kong',
		'China'
	),
	array(
		21.316668,
		-157.866669,
		1,
		'Pacific/Honolulu',
		'US',
		'Honolulu',
		'U.S.A.'
	),
	array(
		29.7500,
		-95.3500,
		5,
		'US/Central',
		'US',
		'Houston',
		'U.S.A.'
	),
	array(
		39.733333,
		-86.283333,
		6,
		'America/Indianapolis',
		'US',
		'Indianapolis',
		'U.S.A.'
	),
	array(
		33.666668,
		73.166664,
		18,
		'Asia/Karachi',
		'PK',
		'Islamabad',
		'Pakistan'
	),
	array(
		41.033333,
		28.983334,
		13,
		'Europe/Istanbul',
		'TR',
		'Istanbul',
		'Turkey'
	),
	array(
		-6.133334,
		106.750000,
		23,
		'Asia/Jakarta',
		'ID',
		'Jakarta',
		'Indonesia'
	),
	array(
		31.783335,
		35.233334,
		13,
		'Asia/Jerusalem',
		'IL',
		'Jerusalem',
		'Israel'
	),
	array(
		34.500000,
		69.199997,
		17,
		'Asia/Kabul',
		'AF',
		'Kabul',
		'Afghanistan'
	),
	array(
		0.333333,
		32.500000,
		14,
		'Africa/Kampala',
		'UG',
		'Kampala',
		'Uganda'
	),
	array(
		27.716666,
		85.316666,
		20,
		'Asia/Katmandu',
		'NP',
		'Katmandu',
		'Nepal'
	),
	array(
		15.599999,
		32.533333,
		13,
		'Africa/Khartoum',
		'SD',
		'Khartoum',
		'Sudan'
	),
	array(
		50.500000,
		30.466667,
		13,
		'Europe/Kiev',
		'UA',
		'Kiev',
		'Ukraine'
	),
	array(
		-4.333333,
		15.250000,
		12,
		'Africa/Kinshasa',
		'ZR',
		'Kinshasa',
		'Zaire'
	),
	array(
		35.816666,
		-83.983333,
		6,
		'US/Eastern',
		'US',
		'Knoxville',
		'U.S.A.'
	),
	array(
		22.583334,
		88.349998,
		19,
		'Asia/Calcutta',
		'IN',
		'Kolkata',
		'India'
	),
	array(
		56.016666,
		92.833333,
		23,
		'Asia/Krasnoyarsk',
		'RU',
		'Krasnoyarsk',
		'Russia'
	),
	array(
		3.150000,
		101.683334,
		24,
		'Asia/Kuala_Lumpur',
		'MY',
		'Kuala Lumpur',
		'Malaysia'
	),
	array(
		29.333332,
		48.000004,
		14,
		'Asia/Kuwait',
		'KW',
		'Kuwait',
		'Kuwait'
	),
	array(
		-16.500000,
		-68.150002,
		7,
		'America/La_Paz',
		'BO',
		'La Paz',
		'Bolivia'
	),
	array(
		6.450000,
		3.383333,
		12,
		'Africa/Lagos',
		'NG',
		'Lagos',
		'Nigeria'
	),
	array(
		-12.049999,
		-77.050003,
		6,
		'America/Lima',
		'PE',
		'Lima',
		'Peru'
	),
	array(
		38.733322,
		-9.133331,
		11,
		'Europe/Lisbon',
		'PT',
		'Lisbon',
		'Portugal'
	),
	array(
		46.0558,
		14.5083,
		12,
		'Europe/Ljubljana',
		'SI',
		'Ljubljana',
		'Slovenia'
	),
	array(
		51.500000,
		-0.166656,
		11,
		'Europe/London',
		'GB',
		'London',
		'England'
	),
	array(
		34.066666,
		-118.250000,
		3,
		'America/Los_Angeles',
		'US',
		'Los Angeles',
		'U.S.A.'
	),
	array(
		-8.833334,
		13.250000,
		12,
		'Africa/Luanda',
		'AO',
		'Luanda',
		'Angola'
	),
	array(
		-15.466667,
		28.266666,
		13,
		'Africa/Lusaka',
		'ZM',
		'Lusaka',
		'Zambia'
	),
	array(
		40.416656,
		-3.716660,
		12,
		'Europe/Madrid',
		'ES',
		'Madrid',
		'Spain'
	),
	array(
		4.166666,
		73.500000,
		18,
		'Indian/Maldives',
		'MV',
		'Male',
		'Maldives'
	),
	array(
		12.100000,
		-86.333336,
		5,
		'America/Managua',
		'NI',
		'Managua',
		'Nicaragua'
	),
	array(
		26.200001,
		50.583336,
		14,
		'Asia/Bahrain',
		'BH',
		'Manama',
		'Bahrain'
	),
	array(
		42.933333,
		-71.433333,
		6,
		'US/Eastern',
		'US',
		'Manchester',
		'U.S.A.'
	),
	array(
		14.600000,
		120.983337,
		24,
		'Asia/Manila',
		'PH',
		'Manila',
		'Philippines'
	),
	array(
		-25.966667,
		32.533333,
		13,
		'Africa/Maputo',
		'MZ',
		'Maputo',
		'Mozambique'
	),
	array(
		21.449999,
		39.816666,
		14,
		'Asia/Riyadh',
		'SA',
		'Mecca',
		'Saudia Arabia'
	),
	array(
		-37.833332,
		145.000000,
		27,
		'Australia/Melbourne',
		'AU',
		'Melbourne',
		'Australia'
	),
	array(
		35.050000,
		-90.00000,
		5,
		'US/Central',
		'US',
		'Memphis',
		'U.S.A.'
	),
	array(
		19.400000,
		-99.150002,
		5,
		'America/Mexico_City',
		'MX',
		'Mexico City',
		'Mexico'
	),
	array(
		25.766668,
		-80.200005,
		6,
		'US/Eastern',
		'US',
		'Miami',
		'U.S.A.'
	),
	array(
		44.983334,
		-93.216667,
		5,
		'US/Central',
		'US',
		'Minneapolis',
		'U.S.A.'
	),
	array(
		59.566666,
		150.800000,
		28,
		'Asia/Magadan',
		'RU',
		'Magadan',
		'Russia'
	),
	array(
		2.033333,
		45.350002,
		14,
		'Africa/Mogadishu',
		'SO',
		'Mogadisho',
		'Somalia'
	),
	array(
		6.300000,
		-10.783333,
		11,
		'Africa/Monrovia',
		'LR',
		'Monrovia',
		'Liberia'
	),
	array(
		-34.916668,
		-56.166668,
		8,
		'America/Montevideo',
		'UY',
		'Montevideo',
		'Uruguay'
	),
	array(
		45.500000,
		-73.599998,
		6,
		'America/Montreal',
		'CA',
		'Montreal',
		'Canada'
	),
	array(
		55.750000,
		37.583332,
		14,
		'Europe/Moscow',
		'RU',
		'Moscow',
		'Russia'
	),
	array(
		18.933334,
		72.849998,
		19,
		'Asia/Calcutta',
		'IN',
		'Mumbai',
		'India'
	),
	array(
		48.133335,
		11.566667,
		12,
		'Europe/Berlin',
		'DE',
		'Munich',
		'Germany'
	),
	array(
		23.483334,
		58.549999,
		16,
		'Asia/Muscat',
		'OM',
		'Muscat',
		'Oman'
	),
	array(
		-1.283333,
		36.833332,
		14,
		'Africa/Nairobi',
		'KE',
		'Nairobi',
		'Kenya'
	),
	array(
		12.166666,
		14.983334,
		12,
		'Africa/Ndjamena',
		'TD',
		'Ndjamena',
		'Chad'
	),
	array(
		28.616667,
		77.216667,
		19,
		'Asia/Calcutta',
		'IN',
		'New Delhi',
		'India'
	),
	array(
		40.716667,
		-74.016670,
		6,
		'America/New_York',
		'US',
		'New York',
		'U.S.A.'
	),
	array(
		18.150000,
		-15.966667,
		11,
		'Africa/Nouakchott',
		'MR',
		'Nouakchott',
		'Mauritania'
	),
	array(
		-21.500000,
		165.500000,
		28,
		'Pacific/Noumea',
		'NC',
		'Noumea',
		'New Caledonia'
	),
	array(
		55.033333,
		83.050003,
		21,
		'Asia/Novosibirsk',
		'RU',
		'Novosibirsk',
		'Russia'
	),
	array(
		64.250000,
		-51.666668,
		8,
		'America/Godthab',
		'GL',
		'Nuuk',
		'Greenland'
	),
	array(
		55.000000,
		73.216667,
		21,
		'Asia/Omsk',
		'RU',
		'Omsk',
		'Russia'
	),
	array(
		34.666668,
		135.500000,
		25,
		'Asia/Tokyo',
		'JP',
		'Osaka',
		'Japan'
	),
	array(
		59.933334,
		10.750000,
		12,
		'Europe/Oslo',
		'NO',
		'Oslo',
		'Norway'
	),
	array(
		45.416664,
		-75.700005,
		6,
		'Canada/Eastern',
		'CA',
		'Ottawa',
		'Canada'
	),
	array(
		12.416667,
		-1.500000,
		11,
		'Africa/Ouagadougou',
		'HV',
		'Ougadougou',
		'Burkina Faso'
	),
	array(
		-14.266666,
		-170.700000,
		30,
		'Pacific/Pago_Pago',
		'WS',
		'Pago Pago',
		'Samoa'
	),
	array(
		9.000000,
		-79.416672,
		6,
		'America/Panama',
		'PA',
		'Panama',
		'Panama'
	),
	array(
		5.866667,
		-55.166668,
		8,
		'America/Paramaribo',
		'SR',
		'Paramaribo',
		'Surinam'
	),
	array(
		48.866650,
		2.333328,
		12,
		'Europe/Paris',
		'FR',
		'Paris',
		'France'
	),
	array(
		-31.933334,
		115.833328,
		24,
		'Australia/Perth',
		'AU',
		'Perth',
		'Australia'
	),
	array(
		39.616669,
		-75.116669,
		6,
		'US/Eastern',
		'US',
		'Philadelphia',
		'U.S.A.'
	),
	array(
		11.549999,
		104.916664,
		23,
		'Asia/Phnom_Penh',
		'KH',
		'Phnom Penh',
		'Cambodia'
	),
	array(
		33.299999,
		-112.033340,
		4,
		'America/Phoenix',
		'US',
		'Phoenix',
		'U.S.A.'
	),
	array(
		37.733333,
		-25.666666,
		10,
		'Atlantic/Azores',
		'PT',
		'Ponta Delgada',
		'Portugal'
	),
	array(
		-20.166666,
		57.500000,
		16,
		'Indian/Mauritius',
		'MU',
		'Port Louis',
		'Mauritius'
	),
	array(
		18.666668,
		-72.333336,
		6,
		'America/Port-au-Prince',
		'HT',
		'Port-au-Prince',
		'Haiti'
	),
	array(
		45.549999,
		-122.599998,
		3,
		'US/Pacific',
		'US',
		'Portland',
		'U.S.A.'
	),
	array(
		50.083332,
		14.433332,
		12,
		'Europe/Prague',
		'CZ',
		'Prague',
		'Czech Republic'
	),
	array(
		39.000000,
		125.500000,
		25,
		'Asia/Pyongyang',
		'KR',
		'Pyongyang',
		'North Korea'
	),
	array(
		-0.233333,
		-78.500000,
		6,
		'America/Guayaquil',
		'EC',
		'Quito',
		'Ecuador'
	),
	array(
		34.033333,
		-6.850000,
		11,
		'Africa/Casablanca',
		'MA',
		'Rabat',
		'Morocco'
	),
	array(
		16.750000,
		96.333328,
		22,
		'Asia/Rangoon',
		'BU',
		'Rangoon',
		'Burma'
	),
	array(
		-8.000000,
		-35.000000,
		8,
		'America/Recife',
		'BR',
		'Recife',
		'Brazil'
	),
	array(
		50.416666,
		-104.650000,
		5,
		'Canada/Saskatchewan',
		'CA',
		'Regina',
		'Canada'
	),
	array(
		64.150002,
		-21.949999,
		11,
		'Atlantic/Reykjavik',
		'IS',
		'Reykjavik',
		'Iceland'
	),
	array(
		-22.883331,
		-43.283325,
		8,
		'Brazil/East',
		'BR',
		'Rio de Janeiro',
		'Brazil'
	),
	array(
		24.650000,
		46.716667,
		14,
		'Asia/Riyadh',
		'SA',
		'Riyadh',
		'Saudia Arabia'
	),
	array(
		41.883331,
		12.500001,
		12,
		'Europe/Rome',
		'IT',
		'Rome',
		'Italy'
	),
	array(
		40.766666,
		-111.883331,
		4,
		'US/Mountain',
		'US',
		'Salt Lake City',
		'U.S.A.'
	),
	array(
		32.716667,
		-117.149994,
		3,
		'US/Pacific',
		'US',
		'San Diego',
		'U.S.A.'
	),
	array(
		37.799999,
		-122.400002,
		3,
		'US/Pacific',
		'US',
		'San Francisco',
		'U.S.A.'
	),
	array(
		9.983334,
		-84.066666,
		5,
		'America/Costa_Rica',
		'CR',
		'San Jose',
		'Costa Rica'
	),
	array(
		18.466666,
		-66.100000,
		7,
		'America/Puerto_Rico',
		'US',
		'San Juan',
		'Puerto Rico'
	),
	array(
		13.666666,
		-89.166664,
		5,
		'America/El_Salvador',
		'SV',
		'San Salvador',
		'El Salvador'
	),
	array(
		15.450000,
		44.200001,
		14,
		'Asia/Aden',
		'YD',
		'Sanaa',
		'Yemen'
	),
	array(
		-33.400002,
		-70.666664,
		7,
		'America/Santiago',
		'CL',
		'Santiago',
		'Chile'
	),
	array(
		18.500000,
		-69.900002,
		7,
		'America/Santo_Domingo',
		'DO',
		'Santo Domingo',
		'Dominican Republic'
	),
	array(
		-23.549999,
		-46.649998,
		8,
		'America/Sao_Paulo',
		'BR',
		'Sao Paulo',
		'Brazil'
	),
	array(
		47.350002,
		-122.200005,
		3,
		'US/Pacific',
		'US',
		'Seattle',
		'U.S.A.'
	),
	array(
		37.549999,
		126.966667,
		25,
		'Asia/Seoul',
		'KR',
		'Seoul',
		'Korea'
	),
	array(
		31.233334,
		121.500000,
		24,
		'Asia/Shanghai',
		'CN',
		'Shanghai',
		'China'
	),
	array(
		1.283333,
		103.850006,
		24,
		'Asia/Singapore',
		'SG',
		'Singapore',
		'Singapore'
	),
	array(
		42.750000,
		23.333332,
		13,
		'Europe/Sofia',
		'BG',
		'Sofia',
		'Bulgaria'
	),
	array(
		47.566666,
		-52.716666,
		7,
		'Canada/Newfoundland',
		'CA',
		'St. John\'s',
		'Canada'
	),
	array(
		38.633335,
		-90.183334,
		5,
		'US/Central',
		'US',
		'St. Louis',
		'U.S.A.'
	),
	array(
		59.916664,
		30.249998,
		14,
		'Europe/Moscow',
		'RU',
		'St. Petersburg',
		'Russia'
	),
	array(
		59.333328,
		18.049988,
		12,
		'Europe/Stockholm',
		'SE',
		'Stockholm',
		'Sweden'
	),
	array(
		-33.866665,
		151.216675,
		27,
		'Australia/Sydney',
		'AU',
		'Sydney',
		'Australia'
	),
	array(
		25.066668,
		121.483330,
		24,
		'Asia/Taipei',
		'TW',
		'Taipei',
		''
	),
	array(
		41.333336,
		69.166664,
		18,
		'Asia/Tashkent',
		'UZ',
		'Tashkent',
		'Uzbekistan'
	),
	array(
		14.083333,
		-87.233337,
		5,
		'America/Tegucigalpa',
		'HN',
		'Tegucigalpa',
		'Honduras'
	),
	array(
		35.666668,
		51.433331,
		15,
		'Asia/Tehran',
		'IR',
		'Tehran',
		'Iran'
	),
	array(
		10.966667,
		106.666664,
		23,
		'Asia/Saigon',
		'VN',
		'Thanh Pho Ho Chi Minh',
		'Vietnam'
	),
	array(
		39.133331,
		117.200005,
		24,
		'Asia/Shanghai',
		'CN',
		'Tientsin',
		'China'
	),
	array(
		35.700001,
		139.766678,
		25,
		'Asia/Tokyo',
		'JP',
		'Tokyo',
		'Japan'
	),
	array(
		43.650002,
		-79.333336,
		6,
		'Canada/Eastern',
		'CA',
		'Toronto',
		'Canada'
	),
	array(
		32.883331,
		13.200000,
		12,
		'Africa/Tripoli',
		'LY',
		'Tripoli',
		'Libya'
	),
	array(
		36.799999,
		10.183333,
		12,
		'Africa/Tunis',
		'TN',
		'Tunis',
		'Tunisia'
	),
	array(
		47.916668,
		106.883339,
		24,
		'Asia/Ulaanbaatar',
		'MN',
		'Ulaanbaatar',
		'Mongolia'
	),
	array(
		0.0,
		0.0,
		0,
		'UTC',
		'',
		'UTC',
		'UTC'
	),
	array(
		49.266666,
		-123.116653,
		3,
		'America/Vancouver',
		'CA',
		'Vancouver',
		'Canada'
	),
	array(
		-4.633333,
		55.450000,
		16,
		'Indian/Mahe',
		'SC',
		'Victoria',
		'Seychelles'
	),
	array(
		48.216667,
		16.366667,
		12,
		'Europe/Vienna',
		'AT',
		'Vienna',
		'Austria'
	),
	array(
		43.116666,
		131.916666,
		27,
		'Asia/Vladivostok',
		'RU',
		'Vladivostok',
		'Russia'
	),
	array(
		48.450001,
		44.299999,
		14,
		'Europe/Moscow',
		'RU',
		'Volgograd',
		'Russia'
	),
	array(
		52.250000,
		21.000000,
		12,
		'Europe/Warsaw',
		'PL',
		'Warsaw',
		'Poland'
	),
	array(
		38.916656,
		-77.000000,
		6,
		'US/Eastern',
		'US',
		'Washington, D.C.',
		'U.S.A.'
	),
	array(
		-41.283333,
		174.783325,
		29,
		'Pacific/Auckland',
		'NZ',
		'Wellington',
		'New Zealand'
	),
	array(
		49.899998,
		-97.149994,
		5,
		'America/Winnipeg',
		'CA',
		'Winnipeg',
		'Canada'
	),
	array(
		62.000000,
		129.666666,
		25,
		'Asia/Yakutsk',
		'RU',
		'Yakutsk',
		'Russia'
	),
	array(
		56.850000,
		60.600000,
		18,
		'Asia/Yekaterinburg',
		'RU',
		'Yekaterinburg',
		'Russia'
	),
	array(
		40.1667,
		44.5167,
		15,
		'Asia/Yerevan',
		'AM',
		'Yerevan',
		'Armenia'
	),
	array(
		45.740600,
		16.068300,
		12,
		'Europe/Zagreb',
		'HR',
		'Zagreb',
		'Croatia'
	),
	array(
		47.383335,
		8.550000,
		12,
		'Europe/Zurich',
		'CH',
		'Zurich',
		'Switzerland'
	)



);

foreach ( $cities as $city ) {
	if ( $city[3] === 'UTC' ) {
		continue;
	}
	$city['top']  = round( 180 - ( 2 * $city[0] ) - 1 );
	$city['left'] = round( 360 + ( 2 * $city[1] ) - 1 );
?>
<div class="city" style="top:<?php echo $city['top']; ?>px; left:<?php echo $city['left']; ?>px;" title="<?php echo $city[5]; ?> - <?php echo $city[6]; ?>"></div>
<?php
}
?>
		</div>

<form class="settings" method="post" action="<?php bb_uri('bb-admin/options-time.php', null, BB_URI_CONTEXT_FORM_ACTION + BB_URI_CONTEXT_BB_ADMIN); ?>">
	<fieldset>
		<div>
			<label>
				<?php _e('<abbr title="Coordinated Universal Time">UTC</abbr> time is') ?>
			</label>
			<div>
				<p><?php echo gmdate(__('Y-m-d g:i:s a')); ?></p>
			</div>
		</div>
<?php		foreach ( $time_options as $option => $args ) bb_option_form_element( $option, $args ); ?>
	</fieldset>
	<fieldset class="submit">
		<?php wp_nonce_field( 'options-time-update' ); ?>
		<input type="hidden" name="action" value="update" />
		<input class="submit" type="submit" name="submit" value="<?php _e('Save Changes') ?>" />
	</fieldset>
</form>

</div>

<?php

bb_get_admin_footer();
